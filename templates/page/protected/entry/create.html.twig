{% extends 'page/protected/base.html.twig' %}

{% block title %}Create an entry{% endblock %}

{% block app_body %}
    <div class="card">
        <div class="form-wrapper">
            {% form_theme form 'form/form_errors.html.twig' %}
            {{ form_start(form) }}
                <div class="field full errors">{{ form_errors(form) | trim }}</div>

                <div class="field full url">
                    {{ form_errors(form.url) }}
                    {{ form_label(form.url) }}
                    {{ form_widget(form.url) }}
                    {{ form_help(form.url) }}
                </div>

                <div class="field full title">
                    {{ form_errors(form.title) }}
                    {{ form_label(form.title) }}
                    {{ form_widget(form.title) }}
                    {{ form_help(form.title) }}
                </div>

                <div class="field full voiceover">
                    {{ form_errors(form.voiceover) }}
                    {{ form_label(form.voiceover) }}
                    {{ form_widget(form.voiceover) }}
                    {{ form_help(form.voiceover) }}
                </div>

                <div class="field full language">
                    {{ form_errors(form.language) }}
                    {{ form_label(form.language) }}
                    {{ form_widget(form.language) }}
                    {{ form_help(form.language) }}
                </div>

                <div class="field full">
                    {{ form_widget(form.create) }}
                </div>

            {{ form_end(form) }}
        </div>
    </div>

    <script>
        $(function(){
            $(".field.voiceover select").on("change", function(){
            	$(this).closest('.field').next('.language').toggle($(this).val() != 'polly');
            }).trigger('change');
        });
    </script>
{% endblock %}
